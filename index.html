<!DOCTYPE html>
<html lang="ja">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Locaop InstaManager System - HTML Demo</title>
    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=M+PLUS+Rounded+1c:wght@400;700;800&family=Inter:wght@400;600&display=swap"
        rel="stylesheet">
    <link rel="stylesheet" href="style.css">
</head>

<body>

    <div class="app-container">
        <!-- App Header with Logo -->
        <div class="app-header" style="display:flex; align-items:center; margin-bottom:15px; padding-left:5px;">
            <div
                style="font-family: 'Inter', sans-serif; font-weight:800; font-size:24px; display:flex; align-items:center; gap:15px;">
                <!-- Icon Group -->
                <div style="display:flex; align-items:center; gap:8px;">
                    <!-- Instagram -->
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <rect x="2" y="2" width="20" height="20" rx="6" stroke="url(#insta_grad)" stroke-width="2" />
                        <circle cx="12" cy="12" r="5" stroke="url(#insta_grad)" stroke-width="2" />
                        <circle cx="18" cy="6" r="1.5" fill="url(#insta_grad)" />
                        <defs>
                            <linearGradient id="insta_grad" x1="2" y1="22" x2="22" y2="2"
                                gradientUnits="userSpaceOnUse">
                                <stop stop-color="#f09433" />
                                <stop offset="0.25" stop-color="#e6683c" />
                                <stop offset="0.5" stop-color="#dc2743" />
                                <stop offset="0.75" stop-color="#cc2366" />
                                <stop offset="1" stop-color="#bc1888" />
                            </linearGradient>
                        </defs>
                    </svg>
                    <!-- Google Maps -->
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7z"
                            fill="#EA4335" />
                        <circle cx="12" cy="9" r="2.5" fill="#fff" />
                    </svg>
                    <!-- X (Twitter) -->
                    <svg width="22" height="22" viewBox="0 0 24 24" fill="#000" xmlns="http://www.w3.org/2000/svg">
                        <path
                            d="M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z" />
                    </svg>
                    <!-- Homepage (Globe) -->
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="#2196F3" stroke-width="2"
                        stroke-linecap="round" stroke-linejoin="round" xmlns="http://www.w3.org/2000/svg">
                        <circle cx="12" cy="12" r="10"></circle>
                        <line x1="2" y1="12" x2="22" y2="12"></line>
                        <path
                            d="M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z">
                        </path>
                    </svg>
                </div>
                <!-- Title Text -->
                <span
                    style="background: linear-gradient(45deg, #f09433 0%, #e6683c 25%, #dc2743 50%, #cc2366 75%, #bc1888 100%); -webkit-background-clip: text; -webkit-text-fill-color: transparent;">
                    マルチポスト・ロカスタGO
                </span>
            </div>
        </div>

        <!-- Main Tabs -->
        <div class="tab-header">
            <button class="tab-btn active" data-target="clients">案件一覧</button>
            <button class="tab-btn" data-target="schedule">投稿管理コクピット</button>
            <button class="tab-btn" data-target="material">素材管理</button>
            <button class="tab-btn" data-target="text">テキスト管理</button>
            <button class="tab-btn" data-target="history">自社投稿履歴(各媒体)</button>
            <button class="tab-btn" data-target="analysis">統計・分析</button>
        </div>

        <div class="tab-content">

            <!-- PANEL: CLIENTS (New) -->
            <div id="panel-clients" class="panel active">
                <div class="panel-header">
                    <div class="panel-title">案件一覧 (クライアント管理)</div>
                    <div class="header-controls">
                        <div style="flex:1;"></div>
                        <button class="btn btn-black" onclick="alert('クライアント追加')">＋ 新規クライアント</button>
                    </div>
                </div>

                <div class="client-list-container" style="padding-bottom:50px;">
                    <!-- Filter/Summary Area -->
                    <div class="client-summary-bar"
                        style="display:flex; gap:15px; margin-bottom:20px; font-size:12px; color:#555;">
                        <span id="summary-total">全案件: 0件</span>
                        <span style="color:#ccc;">|</span>
                        <span id="summary-handled" style="color:#388E3C; font-weight:bold;">✅ 今月対応済: 0件</span>
                        <span style="color:#ccc;">|</span>
                        <span id="summary-attention" style="color:#d32f2f; font-weight:bold;">⚠️ 未対応: 0件</span>
                    </div>

                    <div class="client-table-header"
                        style="display:grid; grid-template-columns: 2fr 1.5fr 1fr 2fr 1fr; gap:10px; padding:10px; background:#f5f5f5; border-radius:8px; font-size:12px; font-weight:bold; color:#555; margin-bottom:10px;">
                        <div>クライアント名</div>
                        <div>ステータス</div>
                        <div>次回投稿日</div>
                        <div>最新のアクティビティ</div>
                        <div style="text-align:center;">アクション</div>
                    </div>

                    <div id="client-list-body" style="display:flex; flex-direction:column; gap:10px;">
                        <!-- JS Injected -->
                    </div>
                </div>
            </div>

            <!-- PANEL: SCHEDULE -->
            <div id="panel-schedule" class="panel">
                <div class="panel-header">
                    <div class="panel-title">投稿管理コクピット</div>

                    <div class="month-switcher">
                        <button class="month-btn" onclick="switchMonth(-1)">◀</button>
                        <span class="current-month" id="display-month">2026年02月</span>
                        <button class="month-btn" onclick="switchMonth(1)">▶</button>
                    </div>

                    <div class="header-controls">
                        <div style="flex:1;"></div>
                        <span
                            style="font-size:11px; color:#666; margin-right:10px;">投稿する場合は案件を選択し、新規の投稿準備を行ってください。</span>
                        <button class="btn btn-black" id="btn-add-plan">＋ 予定登録</button>
                    </div>
                </div>

                <div class="schedule-table">
                    <div class="table-header">
                        <div>日付</div>
                        <div>時間</div>
                        <div>カテゴリー</div>
                        <div>コンテンツ (サムネイル+本文)</div>
                        <div>ステータス</div>
                        <div>編集</div>
                    </div>
                    <div class="table-body" id="schedule-list">
                        <!-- JS injects rows -->
                    </div>
                </div>

                <!-- COCKPIT CHARTS (Engagement / Followers) -->
                <div style="margin-top:20px; display:grid; grid-template-columns: 1fr 1fr; gap:20px;">
                    <!-- Engagement Chart -->
                    <div style="background:white; padding:20px; border-radius:8px; border:1px solid #eee;">
                        <h4 style="font-size:14px; margin-bottom:15px; color:#333; display:flex; align-items:center;">
                            📈 エンゲージメント推移 (直近30日)
                        </h4>
                        <!-- CSS Mock Line Chart -->
                        <div
                            style="position:relative; height:150px; border-left:1px solid #ddd; border-bottom:1px solid #ddd; display:flex; align-items:flex-end; padding-left:10px; gap:15px;">
                            <!-- Points -->
                            <div style="width:10px; height:30%; background:#4285F4; border-radius:50%;"></div>
                            <div style="width:10px; height:50%; background:#4285F4; border-radius:50%;"></div>
                            <div style="width:10px; height:45%; background:#4285F4; border-radius:50%;"></div>
                            <div style="width:10px; height:80%; background:#4285F4; border-radius:50%;"></div>
                            <div style="width:10px; height:60%; background:#4285F4; border-radius:50%;"></div>
                            <div
                                style="width:10px; height:90%; background:#E91E63; border-radius:50%; box-shadow:0 0 5px #E91E63;">
                            </div>

                            <!-- Connecting Line (Fake visual) -->
                            <svg
                                style="position:absolute; top:0; left:0; width:100%; height:100%; pointer-events:none;">
                                <path d="M15 105 L 40 75 L 65 82 L 90 30 L 115 60 L 140 15" stroke="#4285F4"
                                    stroke-width="2" fill="none" opacity="0.5" />
                            </svg>
                        </div>
                        <div
                            style="display:flex; justify-content:space-between; font-size:10px; color:#666; margin-top:5px; padding-left:10px;">
                            <span>1/1</span>
                            <span>1/15</span>
                            <span>1/30</span>
                        </div>
                    </div>

                    <!-- Follower Demographics -->
                    <div style="background:white; padding:20px; border-radius:8px; border:1px solid #eee;">
                        <h4 style="font-size:14px; margin-bottom:15px; color:#333; display:flex; align-items:center;">
                            👥 フォロワー属性 (性別・年代)
                        </h4>
                        <div style="display:flex; align-items:center; gap:20px;">
                            <!-- Pie Chart Mock -->
                            <div
                                style="position:relative; width:100px; height:100px; border-radius:50%; background:conic-gradient(#E91E63 0% 65%, #2196F3 65% 100%);">
                                <div
                                    style="position:absolute; inset:20px; background:white; border-radius:50%; display:flex; align-items:center; justify-content:center; flex-direction:column;">
                                    <div style="font-size:10px; color:#666;">女性</div>
                                    <div style="font-size:14px; font-weight:bold; color:#E91E63;">65%</div>
                                </div>
                            </div>

                            <!-- Legend / Details -->
                            <div style="flex:1;">
                                <div style="margin-bottom:10px;">
                                    <div
                                        style="display:flex; justify-content:space-between; font-size:11px; margin-bottom:2px;">
                                        <span>20代</span> <span>40%</span>
                                    </div>
                                    <div style="height:6px; background:#f0f0f0; border-radius:3px;">
                                        <div style="width:40%; height:100%; background:#333; border-radius:3px;"></div>
                                    </div>
                                </div>
                                <div style="margin-bottom:10px;">
                                    <div
                                        style="display:flex; justify-content:space-between; font-size:11px; margin-bottom:2px;">
                                        <span>30代</span> <span>35%</span>
                                    </div>
                                    <div style="height:6px; background:#f0f0f0; border-radius:3px;">
                                        <div style="width:35%; height:100%; background:#555; border-radius:3px;"></div>
                                    </div>
                                </div>
                                <div>
                                    <div
                                        style="display:flex; justify-content:space-between; font-size:11px; margin-bottom:2px;">
                                        <span>40代~</span> <span>25%</span>
                                    </div>
                                    <div style="height:6px; background:#f0f0f0; border-radius:3px;">
                                        <div style="width:25%; height:100%; background:#888; border-radius:3px;"></div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- PANEL: MATERIAL -->
            <div id="panel-material" class="panel">
                <div class="panel-header">
                    <div class="panel-title">素材管理</div>
                    <div class="header-controls">
                        <button class="btn btn-outline" style="color:#4285F4; border-color:#4285F4;">＋
                            Googleドライブ連携</button>
                        <button class="btn btn-outline">＋ フォルダから追加</button>
                        <div style="width:20px;"></div>
                        <button class="btn btn-ai" id="btn-auto-tag">🏷️ AIでタグ付与</button>
                        <span
                            style="font-size:11px; color:#005662; background:#E0F7FA; padding:5px 10px; border-radius:15px; margin-left:10px; font-weight:bold; border:1px solid #B2EBF2;">
                            💡 新しい写真はタグを付与してください。AIで自動付与も可能です。
                        </span>
                    </div>
                </div>

                <div class="material-summary-bar"
                    style="display:flex; gap:15px; margin-bottom:15px; font-size:12px; color:#555; padding-left: 5px;">
                    <span id="mat-summary-total">全素材: 0枚</span>
                    <span style="color:#ccc;">|</span>
                    <span id="mat-summary-tagged" style="color:#388E3C;">🏷️ タグ付与済: 0枚</span>
                    <span style="color:#ccc;">|</span>
                    <span id="mat-summary-untagged" style="color:#D32F2F;">⚠️ 未付与: 0枚</span>
                </div>

                <div class="material-grid" id="material-grid">
                    <!-- JS injects images -->
                </div>
            </div>

            <!-- PANEL: TEXT -->
            <div id="panel-text" class="panel">
                <div class="panel-header">
                    <div class="panel-title">テキスト管理</div>
                    <div class="header-controls">
                        <button class="btn btn-ai" id="btn-text-gen-modal">✨ カテゴリからAI生成</button>
                        <button class="btn btn-outline">＋ 新規テンプレート</button>
                    </div>
                </div>

                <div id="txt-summary-bar" class="text-summary-bar"
                    style="display:flex; gap:15px; margin-bottom:15px; font-size:12px; color:#555; padding-left: 5px; border-bottom:1px solid #eee; padding-bottom:10px;">
                    <!-- JS Injected -->
                </div>

                <!-- Main Container for Text Manager -->
                <div id="text-manager-container" style="display:flex; height: 100%; gap:20px; overflow:hidden;">

                    <!-- LEFT SIDEBAR: Folders -->
                    <div id="txt-sidebar"
                        style="width:200px; flex-shrink:0; border-right:1px solid #eee; padding-right:10px; overflow-y:auto;">
                        <!-- JS Injected Folders -->
                    </div>

                    <!-- RIGHT MAIN: Texts -->
                    <div id="txt-main-list" class="text-list" style="flex:1; overflow-y:auto; padding-bottom:50px;">
                        <!-- JS Injected Items -->
                    </div>

                    <!-- FAR RIGHT: Composition Deck -->
                    <div id="txt-deck"
                        style="width:250px; flex-shrink:0; border-left:1px solid #eee; padding-left:10px; display:flex; flex-direction:column; background:#fafafa;">
                        <div
                            style="padding:10px 0; border-bottom:1px solid #ddd; margin-bottom:10px; font-weight:bold; font-size:13px; color:#333;">
                            <span id="deck-count">構成案 (0)</span>
                        </div>
                        <div id="txt-deck-list" style="flex:1; overflow-y:auto; padding-bottom:10px;">
                            <!-- Blocks go here -->
                        </div>
                        <div style="padding:10px 0;">
                            <button id="btn-compose-ai" class="btn btn-ai" style="width:100%; font-size:11px;"
                                disabled>パーツを選択してください</button>
                        </div>
                    </div>

                </div>
            </div>

            <!-- PANEL: HISTORY (MULTI-PLATFORM) -->
            <div id="panel-history" class="panel">
                <div class="panel-header">
                    <div class="panel-title">自社投稿履歴 (Instagram / Google / X)</div>
                    <div class="header-controls">
                        <span style="font-size:12px; color:#666;">各プラットフォームの直近の投稿状況を確認できます</span>
                        <div style="flex:1;"></div>
                        <button class="btn btn-outline" onclick="alert('PDF出力機能は開発中です')">📄 レポート出力</button>
                    </div>
                </div>

                <div id="history-grid"
                    style="display:grid; grid-template-columns: 1fr 1fr 1fr; gap:20px; height:100%; padding-bottom:50px;">
                    <!-- JS Injects 3 Columns -->
                </div>
            </div>

            <!-- PANEL: ANALYSIS -->
            <div id="panel-analysis" class="panel">
                <div class="panel-header">
                    <div class="panel-title">統計・分析</div>
                    <div class="header-controls">
                        <span style="font-size:12px; color:#666;">投稿パフォーマンスとAIによる分析結果</span>
                    </div>
                </div>

                <div class="analysis-dashboard" style="padding-bottom:50px;">
                    <div style="margin-bottom:15px;">
                        <div
                            style="font-size:16px; font-weight:bold; display:flex; align-items:center; margin-bottom:5px;">
                            📊 パターン生成サマリ
                        </div>
                        <div style="font-size:12px; color:#666;">
                            投稿・カテゴリー・写真・テキスト生成パターン分析、累計数億パターンの学習を蓄積しました。
                        </div>
                    </div>

                    <div style="display:grid; grid-template-columns: 1fr 1fr 1fr; gap:20px;">
                        <!-- Col 1: Performance -->
                        <div class="analysis-card"
                            style="background:#fff; border:1px solid #eee; border-radius:8px; padding:15px;">
                            <div style="font-size:12px; color:#666; margin-bottom:10px; font-weight:bold;">📈 投稿パフォーマンス
                            </div>
                            <div
                                style="display:flex; justify-content:space-between; border-bottom:1px solid #f5f5f5; padding-bottom:5px; margin-bottom:5px;">
                                <span style="font-size:11px;">総投稿数</span>
                                <span style="font-weight:bold; font-size:14px;">1,248</span>
                            </div>
                            <div
                                style="display:flex; justify-content:space-between; border-bottom:1px solid #f5f5f5; padding-bottom:5px; margin-bottom:5px;">
                                <span style="font-size:11px;">今月の投稿</span>
                                <span style="font-weight:bold; font-size:14px;">24</span>
                            </div>
                            <div style="display:flex; justify-content:space-between;">
                                <span style="font-size:11px;">週平均</span>
                                <span style="font-weight:bold; font-size:14px;">5.6回</span>
                            </div>
                        </div>

                        <!-- Col 2: Assets -->
                        <div class="analysis-card"
                            style="background:#fff; border:1px solid #eee; border-radius:8px; padding:15px;">
                            <div style="font-size:12px; color:#666; margin-bottom:10px; font-weight:bold;">📦 保有アセット資産
                            </div>
                            <div
                                style="display:flex; justify-content:space-between; border-bottom:1px solid #f5f5f5; padding-bottom:5px; margin-bottom:5px;">
                                <span style="font-size:11px;">素材 (画像/動画)</span>
                                <span style="font-weight:bold; font-size:14px;">148枚</span>
                            </div>
                            <div
                                style="display:flex; justify-content:space-between; border-bottom:1px solid #f5f5f5; padding-bottom:5px; margin-bottom:5px;">
                                <span style="font-size:11px;">テキスト文章</span>
                                <span style="font-weight:bold; font-size:14px;">50件</span>
                            </div>
                            <div style="display:flex; justify-content:space-between;">
                                <span style="font-size:11px;">カテゴリー</span>
                                <span style="font-weight:bold; font-size:14px;">5種</span>
                            </div>
                        </div>

                        <!-- Col 3: Pattern AI -->
                        <div class="analysis-card"
                            style="background:#fff; border:1px solid #eee; border-radius:8px; padding:15px; position:relative; overflow:hidden;">
                            <div
                                style="position:absolute; top:-10px; right:-10px; width:50px; height:50px; background:#E0F7FA; border-radius:50%;">
                            </div>
                            <div
                                style="font-size:12px; color:#006064; margin-bottom:10px; font-weight:bold; position:relative;">
                                ✨ AIパターン生成力</div>

                            <div style="text-align:center; margin-top:5px;">
                                <div style="font-size:10px; color:#666;">現在のアセット組み合わせ</div>
                                <div style="font-size:24px; font-weight:bold; color:#00838F;">7,400<span
                                        style="font-size:12px; color:#666;">通り</span></div>
                                <div style="font-size:9px; color:#888; margin-bottom:8px;">(テキスト50 × 画像148)</div>

                                <div style="font-size:10px; color:#666;">生成済みAIバリエーション</div>
                                <div style="font-size:14px; font-weight:bold; color:#333;">+ 320<span
                                        style="font-size:10px; font-weight:normal;">パターン</span></div>
                            </div>
                        </div>
                    </div>

                    <!-- Advanced Analysis Section -->
                    <div style="display:grid; grid-template-columns: 1fr 1fr; gap:20px; margin-top:20px;">

                        <!-- Block A: Category Breakdown -->
                        <div class="analysis-card"
                            style="background:#fff; border:1px solid #eee; border-radius:8px; padding:15px;">
                            <div style="font-size:12px; color:#666; margin-bottom:15px; font-weight:bold;">📊 カテゴリー別
                                投稿数分析</div>
                            <!-- Bars -->
                            <div style="display:flex; flex-direction:column; gap:10px; font-size:11px; color:#555;">
                                <div>
                                    <div style="display:flex; justify-content:space-between; margin-bottom:2px;">
                                        <span>日常・風景</span> <span>42% (12件)</span>
                                    </div>
                                    <div style="height:6px; background:#f0f0f0; border-radius:3px; overflow:hidden;">
                                        <div style="width:42%; height:100%; background:#4285F4;"></div>
                                    </div>
                                </div>
                                <div>
                                    <div style="display:flex; justify-content:space-between; margin-bottom:2px;">
                                        <span>施術・ビフォーアフター</span> <span>28% (8件)</span>
                                    </div>
                                    <div style="height:6px; background:#f0f0f0; border-radius:3px; overflow:hidden;">
                                        <div style="width:28%; height:100%; background:#34A853;"></div>
                                    </div>
                                </div>
                                <div>
                                    <div style="display:flex; justify-content:space-between; margin-bottom:2px;">
                                        <span>キャンペーン・お知らせ</span> <span>15% (4件)</span>
                                    </div>
                                    <div style="height:6px; background:#f0f0f0; border-radius:3px; overflow:hidden;">
                                        <div style="width:15%; height:100%; background:#FBBC05;"></div>
                                    </div>
                                </div>
                                <div>
                                    <div style="display:flex; justify-content:space-between; margin-bottom:2px;">
                                        <span>スタッフ紹介</span> <span>10% (3件)</span>
                                    </div>
                                    <div style="height:6px; background:#f0f0f0; border-radius:3px; overflow:hidden;">
                                        <div style="width:10%; height:100%; background:#EA4335;"></div>
                                    </div>
                                </div>
                                <div>
                                    <div style="display:flex; justify-content:space-between; margin-bottom:2px;">
                                        <span>Q&A・解説</span> <span>5% (1件)</span>
                                    </div>
                                    <div style="height:6px; background:#f0f0f0; border-radius:3px; overflow:hidden;">
                                        <div style="width:5%; height:100%; background:#9E9E9E;"></div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Block B: Engagement Heatmap (Time x Day) -->
                        <div class="analysis-card"
                            style="background:#fff; border:1px solid #eee; border-radius:8px; padding:15px;">
                            <div style="font-size:12px; color:#666; margin-bottom:15px; font-weight:bold;">🔥 時間帯別
                                エンゲージメントヒートマップ</div>

                            <div
                                style="display:grid; grid-template-columns: 40px repeat(7, 1fr); gap:2px; font-size:9px; text-align:center; color:#888;">
                                <!-- Header -->
                                <div></div>
                                <div>月</div>
                                <div>火</div>
                                <div>水</div>
                                <div>木</div>
                                <div>金</div>
                                <div>土</div>
                                <div>日</div>

                                <!-- Rows -->
                                <!-- 9-12 -->
                                <div style="display:flex; align-items:center; justify-content:center;">09-12</div>
                                <div style="background:#E3F2FD;"></div>
                                <div style="background:#BBDEFB;"></div>
                                <div style="background:#1976D2;"></div>
                                <div style="background:#BBDEFB;"></div>
                                <div style="background:#E3F2FD;"></div>
                                <div style="background:#E3F2FD;"></div>
                                <div style="background:#E3F2FD;"></div>

                                <!-- 12-15 -->
                                <div style="display:flex; align-items:center; justify-content:center;">12-15</div>
                                <div style="background:#E3F2FD;"></div>
                                <div style="background:#E3F2FD;"></div>
                                <div style="background:#0D47A1;"></div>
                                <div style="background:#E3F2FD;"></div>
                                <div style="background:#2196F3;"></div>
                                <div style="background:#E3F2FD;"></div>
                                <div style="background:#BBDEFB;"></div>

                                <!-- 15-18 -->
                                <div style="display:flex; align-items:center; justify-content:center;">15-18</div>
                                <div style="background:#BBDEFB;"></div>
                                <div style="background:#E3F2FD;"></div>
                                <div style="background:#BBDEFB;"></div>
                                <div style="background:#E3F2FD;"></div>
                                <div style="background:#E3F2FD;"></div>
                                <div style="background:#1976D2;"></div>
                                <div style="background:#2196F3;"></div>

                                <!-- 18-21 -->
                                <div style="display:flex; align-items:center; justify-content:center;">18-21</div>
                                <div style="background:#E3F2FD;"></div>
                                <div style="background:#BBDEFB;"></div>
                                <div style="background:#E3F2FD;"></div>
                                <div style="background:#2196F3;"></div>
                                <div style="background:#0D47A1;"></div>
                                <div style="background:#1565C0;"></div>
                                <div style="background:#1976D2;"></div>
                            </div>
                            <div
                                style="display:flex; justify-content:flex-end; gap:5px; margin-top:10px; font-size:9px; align-items:center;">
                                <span>Low</span>
                                <div style="width:10px; height:10px; background:#E3F2FD;"></div>
                                <div style="width:10px; height:10px; background:#BBDEFB;"></div>
                                <div style="width:10px; height:10px; background:#2196F3;"></div>
                                <div style="width:10px; height:10px; background:#0D47A1;"></div>
                                <span>High</span>
                            </div>
                        </div>

                    </div> <!-- End Grid -->

                    <!-- AI Advice Section -->
                    <div
                        style="margin-top:20px; background:#F5F5F5; border:1px solid #ddd; padding:15px; border-radius:12px; display:flex; align-items:start; gap:15px; box-shadow: 0 2px 5px rgba(0,0,0,0.05);">
                        <div style="flex-shrink:0;">
                            <img src="demohTML/assets/locayama.png"
                                style="width:60px; height:60px; object-fit:cover; border-radius:50%; border:2px solid #ccc; display:block;">
                        </div>
                        <div>
                            <div
                                style="font-size:14px; font-weight:bold; color:#333; margin-bottom:8px; display:flex; align-items:center;">
                                CS担当: ロカ山からの次の投稿アドバイス
                            </div>
                            <div
                                style="font-size:13px; color:#444; line-height:1.6; background:#fff; padding:12px; border-radius:8px; border:1px solid #eee;">
                                投稿データ分析の結果、<span
                                    style="font-weight:bold; color:#1976D2; background:#E3F2FD; padding:0 4px;">水曜のお昼(12時)</span>と<span
                                    style="font-weight:bold; color:#1976D2; background:#E3F2FD; padding:0 4px;">金曜の夜(20時)</span>のエンゲージメントが非常に高い傾向にあります。<br>
                                また、「Q&A・解説」カテゴリーの投稿が不足しております。<br>
                                次回は<span
                                    style="font-weight:bold; text-decoration:underline; decoration-color:#2196F3;">水曜
                                    12:00に「Q&A」に関する投稿</span>を行うことで、効果的なリーチが見込めます。ぜひご検討ください。
                            </div>
                        </div>
                    </div>

                </div> <!-- Close analysis-dashboard -->
            </div> <!-- Close panel-analysis -->

            <!-- MODAL: TEXT GENERATION -->
            <div id="modal-text-gen" class="modal-overlay">
                <div class="modal" style="height: auto; width: 600px; max-height: 80vh; overflow-y: auto;">
                    <h3 style="margin-bottom:15px; color:#6C35DE;">✨ AIテキスト生成 (3案提案)</h3>
                    <p style="font-size:12px; color:#666; margin-bottom:20px;">カテゴリーとタグを選択して、3つのパターンを提案します。</p>

                    <label style="font-weight:bold; font-size:12px;">カテゴリー</label>
                    <select id="gen-text-cat"
                        style="padding:8px; width:100%; margin-bottom:15px; border:1px solid #ccc; border-radius:4px;">
                        <option>日常・風景</option>
                        <option>施術・ビフォーアフター</option>
                        <option>キャンペーン・お知らせ</option>
                        <option>スタッフ紹介</option>
                        <option>Q&A・解説</option>
                    </select>

                    <label style="font-weight:bold; font-size:12px;">タグ (任意)</label>
                    <div style="display:flex; gap:5px; margin-bottom:20px; flex-wrap:wrap;">
                        <span class="tag-chip" onclick="this.classList.toggle('selected')">#癒し</span>
                        <span class="tag-chip" onclick="this.classList.toggle('selected')">#元気</span>
                        <span class="tag-chip" onclick="this.classList.toggle('selected')">#専門的</span>
                        <span class="tag-chip" onclick="this.classList.toggle('selected')">#親しみ</span>
                    </div>

                    <!-- Result Area -->
                    <div id="ai-gen-results-area" style="display:none; margin-bottom:20px;">
                        <h4 style="font-size:14px; margin-bottom:10px;">生成された案 (選択してください)</h4>
                        <div id="ai-gen-options" style="display:flex; flex-direction:column; gap:10px;">
                            <!-- JS Injected -->
                        </div>
                    </div>

                    <div style="text-align:right;">
                        <button class="btn btn-outline" id="btn-close-text-gen">キャンセル</button>
                        <button class="btn btn-ai" id="btn-run-text-gen">生成する</button>
                        <button class="btn btn-black" id="btn-save-generated-text"
                            style="display:none;">選択した案を保存</button>
                    </div>
                </div>
            </div>

        </div>
    </div>

    <!-- MODAL: IMAGE TAGGING -->
    <div id="modal-img-tag" class="modal-overlay">
        <div class="modal" style="height: auto; width: 400px;">
            <h3 style="margin-bottom:20px;">画像タグ編集</h3>
            <div style="display:flex; justify-content:center; margin-bottom:15px;">
                <img id="tag-target-img" src="" style="width:150px; height:150px; object-fit:cover; border-radius:8px;">
            </div>

            <label style="font-weight:bold; font-size:12px; margin-bottom:5px;">現在設定されているタグ</label>
            <div id="current-tags-area"
                style="display:flex; flex-wrap:wrap; gap:5px; margin-bottom:15px; min-height:30px; padding:5px; border:1px solid #eee; border-radius:4px;">
                <!-- Tags injected here -->
            </div>

            <label style="font-weight:bold; font-size:12px; margin-bottom:5px;">新規タグを追加</label>
            <div style="display:flex; gap:5px; margin-bottom:20px;">
                <input type="text" id="new-tag-input" placeholder="タグを入力..."
                    style="flex:1; padding:8px; border:1px solid #ccc; border-radius:4px;">
                <button class="btn btn-black" id="btn-add-tag">追加</button>
            </div>

            <div style="text-align:right;">
                <button class="btn btn-outline" id="btn-close-tag-modal">完了</button>
            </div>
        </div>
    </div>

    <!-- MODAL: ADD PLAN -->
    <div id="modal-plan" class="modal-overlay">
        <div class="modal" style="height: auto; width: 400px;">
            <h3 style="margin-bottom:20px;">新規投稿予定の登録</h3>

            <label style="font-weight:bold; font-size:12px; margin-bottom:5px;">日付</label>
            <input type="date" id="plan-date"
                style="padding:8px; width:100%; margin-bottom:15px; border:1px solid #ccc; border-radius:4px;">

            <label style="font-weight:bold; font-size:12px; margin-bottom:5px;">カテゴリー</label>
            <select id="plan-category"
                style="padding:8px; width:100%; margin-bottom:20px; border:1px solid #ccc; border-radius:4px;">
                <option>日常・風景</option>
                <option>施術・ビフォーアフター</option>
                <option>キャンペーン・お知らせ</option>
                <option>スタッフ紹介</option>
                <option>Q&A・解説</option>
            </select>

            <div style="text-align:right; margin-top:10px;">
                <button class="btn btn-outline" id="btn-close-plan">キャンセル</button>
                <button class="btn btn-black" id="btn-save-plan">保存する</button>
            </div>
        </div>
    </div>

    <!-- MODAL: EDITOR -->
    <div id="modal-editor" class="modal-overlay">
        <div class="modal" style="width: 1000px; height: 850px;">
            <div style="display:flex; justify-content:space-between; align-items:center; margin-bottom:10px;">
                <h3 style="color:#333;">投稿コンテンツ編集</h3>
                <div style="font-size:12px; color:#666;">
                    ステータス: <span class="status-badge" id="editor-status-display" style="background:#ccc;">-</span>
                </div>
            </div>

            <div class="editor-layout">
                <div class="editor-left">
                    <!-- Tool Area: Category & Recommend -->
                    <div class="editor-tools">
                        <div class="tool-label">投稿設定・レコメンド</div>
                        <div style="display:flex; gap:10px; align-items:center; margin-bottom:10px;">
                            <span style="font-size:12px;">カテゴリー:</span>
                            <select id="editor-category-select"
                                style="padding:6px; border:1px solid #ddd; border-radius:4px; font-size:12px; width:200px;">
                                <option value="日常・風景">日常・風景</option>
                                <option value="施術・ビフォーアフター">施術・ビフォーアフター</option>
                                <option value="キャンペーン・お知らせ">キャンペーン・お知らせ</option>
                                <option value="スタッフ紹介">スタッフ紹介</option>
                                <option value="Q&A・解説">Q&A・解説</option>
                            </select>
                            <span style="font-size:10px; color:#0277BD;">✨ カテゴリ変更でレコメンドが更新されます</span>
                        </div>
                    </div>

                    <!-- Image Selection -->
                    <div class="editor-section-title">
                        <span>1. 画像を選択 (素材管理より)</span>
                        <button class="btn btn-outline" style="padding:2px 8px; font-size:10px;"
                            onclick="alert('画像生成AIを起動します')">🖼️ 画像を自動生成</button>
                    </div>
                    <div class="editor-img-list" id="editor-img-list">
                        <!-- JS injected -->
                    </div>

                    <!-- Text Selection & Generation -->
                    <div class="editor-section-title" style="margin-top:15px; margin-bottom: 10px;">
                        <span>2. テキスト編集</span>
                    </div>

                    <!-- Text Tabs -->
                    <div class="text-editor-tabs"
                        style="display:flex; gap:10px; margin-bottom:10px; border-bottom:1px solid #ddd; padding-bottom:5px;">
                        <div class="text-tab active" id="tab-txt-material" onclick="switchTextTab('material')">素材から選ぶ
                        </div>
                        <div class="text-tab" id="tab-txt-ai" onclick="switchTextTab('ai')">AIで新たに作成</div>
                    </div>

                    <!-- TAB CONTENT: Material -->
                    <div id="content-txt-material">
                        <div class="editor-txt-list" id="editor-txt-list">
                            <!-- JS injected -->
                        </div>
                    </div>

                    <!-- TAB CONTENT: AI -->
                    <div id="content-txt-ai" style="display:none;">
                        <div class="ai-gen-box">
                            <div class="tool-label">AI文章生成アシスタント</div>
                            <input type="text" id="ai-text-prompt" class="ai-input"
                                placeholder="例: 「春のキャンペーンについて、明るいトーンで」">
                            <button class="btn btn-ai" style="width:100%; font-size:12px; padding:6px;"
                                id="btn-gen-text">✨
                                AIで文章を作成</button>
                        </div>
                    </div>
                </div>

                <div class="editor-right">
                    <div class="editor-section-title">プレビュー & 加工</div>

                    <div id="editor-preview-wrapper"
                        style="background:white; height:100%; border-radius:8px; padding:10px; overflow-y:auto; display:flex; flex-direction:column;">
                        <!-- Square Image Preview with Overlay -->
                        <div class="preview-container" id="editor-preview-container">
                            <img src="" class="preview-img" id="editor-preview-img">
                            <div class="text-overlay-mock" id="editor-overlay-mock">
                                <div class="overlay-title">見出しテキスト</div>
                                <div class="overlay-sub">サブタイトル</div>
                            </div>
                            <div style="position:absolute; top:50%; left:50%; transform:translate(-50%,-50%); color:#ccc; font-size:12px;"
                                id="preview-placeholder">No Image</div>
                        </div>

                        <!-- Caption Preview -->
                        <textarea id="editor-preview-text"
                            style="width:100%; height:120px; padding:8px; border:1px solid #ddd; font-size:12px; resize:vertical; margin-bottom:10px;"
                            placeholder="キャプション本文..."></textarea>

                        <!-- Magic Tools -->
                        <button class="btn btn-ai"
                            style="margin-bottom:5px; width:100%; justify-content:center; box-shadow:0 2px 5px rgba(0,0,0,0.1);"
                            id="btn-apply-overlay">✨ AIで写真に文字を入れる</button>

                    </div>
                </div>
            </div>

            <div style="text-align:right; margin-top:20px; padding-top:10px; border-top:1px solid #eee;">
                <button class="btn btn-outline" id="btn-close-editor">キャンセル</button>
                <button class="btn btn-black" id="btn-save-editor">これで保存 (ステータス: 投稿待ちへ)</button>
            </div>
        </div>
    </div>

    <script src="script.js"></script>
</body>

</html>