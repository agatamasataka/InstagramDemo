<!DOCTYPE html>
<html lang="ja">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Locaop InstaManager System - HTML Demo</title>
    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=M+PLUS+Rounded+1c:wght@400;700;800&family=Inter:wght@400;600&display=swap"
        rel="stylesheet">
    <link rel="stylesheet" href="style.css">
</head>

<body>

    <div class="app-container">
        <!-- App Header with Logo -->
        <div class="app-header" style="display:flex; align-items:center; margin-bottom:15px; padding-left:5px;">
            <div
                style="font-family: 'Inter', sans-serif; font-weight:800; font-size:24px; display:flex; align-items:center; gap:15px;">
                <!-- Icon Group -->
                <div style="display:flex; align-items:center; gap:8px;">
                    <!-- Instagram -->
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <rect x="2" y="2" width="20" height="20" rx="6" stroke="url(#insta_grad)" stroke-width="2" />
                        <circle cx="12" cy="12" r="5" stroke="url(#insta_grad)" stroke-width="2" />
                        <circle cx="18" cy="6" r="1.5" fill="url(#insta_grad)" />
                        <defs>
                            <linearGradient id="insta_grad" x1="2" y1="22" x2="22" y2="2"
                                gradientUnits="userSpaceOnUse">
                                <stop stop-color="#f09433" />
                                <stop offset="0.25" stop-color="#e6683c" />
                                <stop offset="0.5" stop-color="#dc2743" />
                                <stop offset="0.75" stop-color="#cc2366" />
                                <stop offset="1" stop-color="#bc1888" />
                            </linearGradient>
                        </defs>
                    </svg>
                    <!-- Google Maps -->
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7z"
                            fill="#EA4335" />
                        <circle cx="12" cy="9" r="2.5" fill="#fff" />
                    </svg>
                    <!-- X (Twitter) -->
                    <svg width="22" height="22" viewBox="0 0 24 24" fill="#000" xmlns="http://www.w3.org/2000/svg">
                        <path
                            d="M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z" />
                    </svg>
                    <!-- Homepage (Globe) -->
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="#2196F3" stroke-width="2"
                        stroke-linecap="round" stroke-linejoin="round" xmlns="http://www.w3.org/2000/svg">
                        <circle cx="12" cy="12" r="10"></circle>
                        <line x1="2" y1="12" x2="22" y2="12"></line>
                        <path
                            d="M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z">
                        </path>
                    </svg>
                </div>
                <!-- Title Text -->
                <span
                    style="background: linear-gradient(45deg, #f09433 0%, #e6683c 25%, #dc2743 50%, #cc2366 75%, #bc1888 100%); -webkit-background-clip: text; -webkit-text-fill-color: transparent;">
                    マルチポスト・ロカスタGO
                </span>
            </div>
        </div>

        <!-- Main Tabs -->
        <div class="tab-header">
            <button class="tab-btn active" data-target="clients">案件一覧</button>
            <button class="tab-btn" data-target="schedule">投稿管理コクピット</button>
            <button class="tab-btn" data-target="material">素材管理</button>
            <button class="tab-btn" data-target="text">テキスト管理</button>
            <button class="tab-btn" data-target="history">自社投稿履歴(各媒体)</button>
        </div>

        <div class="tab-content">

            <!-- PANEL: CLIENTS (New) -->
            <div id="panel-clients" class="panel active">
                <div class="panel-header">
                    <div class="panel-title">案件一覧 (クライアント管理)</div>
                    <div class="header-controls">
                        <div style="flex:1;"></div>
                        <button class="btn btn-black" onclick="alert('クライアント追加')">＋ 新規クライアント</button>
                    </div>
                </div>

                <div class="client-list-container" style="padding-bottom:50px;">
                    <!-- Filter/Summary Area -->
                    <div class="client-summary-bar"
                        style="display:flex; gap:15px; margin-bottom:20px; font-size:12px; color:#555;">
                        <span id="summary-total">全案件: 0件</span>
                        <span style="color:#ccc;">|</span>
                        <span id="summary-handled" style="color:#388E3C; font-weight:bold;">✅ 今月対応済: 0件</span>
                        <span style="color:#ccc;">|</span>
                        <span id="summary-attention" style="color:#d32f2f; font-weight:bold;">⚠️ 未対応: 0件</span>
                    </div>

                    <div class="client-table-header"
                        style="display:grid; grid-template-columns: 2fr 1.5fr 1fr 2fr 1fr; gap:10px; padding:10px; background:#f5f5f5; border-radius:8px; font-size:12px; font-weight:bold; color:#555; margin-bottom:10px;">
                        <div>クライアント名</div>
                        <div>ステータス</div>
                        <div>次回投稿日</div>
                        <div>最新のアクティビティ</div>
                        <div style="text-align:center;">アクション</div>
                    </div>

                    <div id="client-list-body" style="display:flex; flex-direction:column; gap:10px;">
                        <!-- JS Injected -->
                    </div>
                </div>
            </div>

            <!-- PANEL: SCHEDULE -->
            <div id="panel-schedule" class="panel">
                <div class="panel-header">
                    <div class="panel-title">投稿管理コクピット</div>

                    <div class="month-switcher">
                        <button class="month-btn" onclick="switchMonth(-1)">◀</button>
                        <span class="current-month" id="display-month">2026年02月</span>
                        <button class="month-btn" onclick="switchMonth(1)">▶</button>
                    </div>

                    <div class="header-controls">
                        <div style="flex:1;"></div>
                        <span
                            style="font-size:11px; color:#666; margin-right:10px;">投稿する場合は案件を選択し、新規の投稿準備を行ってください。</span>
                        <button class="btn btn-black" id="btn-add-plan">＋ 予定登録</button>
                    </div>
                </div>

                <div class="schedule-table">
                    <div class="table-header">
                        <div>日付</div>
                        <div>時間</div>
                        <div>カテゴリー</div>
                        <div>コンテンツ (サムネイル+本文)</div>
                        <div>ステータス</div>
                        <div>編集</div>
                    </div>
                    <div class="table-body" id="schedule-list">
                        <!-- JS injects rows -->
                    </div>
                </div>

                <!-- ANALYSIS DASHBOARD (DEMI Data & Pattern Analysis) -->
                <div class="analysis-dashboard"
                    style="margin-top:30px; border-top:2px solid #eee; padding-top:20px; padding-bottom:50px;">
                    <div
                        style="font-size:16px; font-weight:bold; margin-bottom:15px; display:flex; align-items:center;">
                        📊 分析・パターン生成サマリ (DEMIデータ)
                        <span
                            style="font-size:11px; margin-left:10px; background:#E3F2FD; color:#1565C0; padding:2px 8px; border-radius:10px;">AI
                            Analysis</span>
                    </div>

                    <div style="display:grid; grid-template-columns: 1fr 1fr 1fr; gap:20px;">
                        <!-- Col 1: Performance -->
                        <div class="analysis-card"
                            style="background:#fff; border:1px solid #eee; border-radius:8px; padding:15px;">
                            <div style="font-size:12px; color:#666; margin-bottom:10px; font-weight:bold;">📈 投稿パフォーマンス
                            </div>
                            <div
                                style="display:flex; justify-content:space-between; border-bottom:1px solid #f5f5f5; padding-bottom:5px; margin-bottom:5px;">
                                <span style="font-size:11px;">総投稿数</span>
                                <span style="font-weight:bold; font-size:14px;">1,248</span>
                            </div>
                            <div
                                style="display:flex; justify-content:space-between; border-bottom:1px solid #f5f5f5; padding-bottom:5px; margin-bottom:5px;">
                                <span style="font-size:11px;">今月の投稿</span>
                                <span style="font-weight:bold; font-size:14px;">24</span>
                            </div>
                            <div style="display:flex; justify-content:space-between;">
                                <span style="font-size:11px;">週平均</span>
                                <span style="font-weight:bold; font-size:14px;">5.6回</span>
                            </div>
                        </div>

                        <!-- Col 2: Assets -->
                        <div class="analysis-card"
                            style="background:#fff; border:1px solid #eee; border-radius:8px; padding:15px;">
                            <div style="font-size:12px; color:#666; margin-bottom:10px; font-weight:bold;">📦 保有アセット資産
                            </div>
                            <div
                                style="display:flex; justify-content:space-between; border-bottom:1px solid #f5f5f5; padding-bottom:5px; margin-bottom:5px;">
                                <span style="font-size:11px;">素材 (画像/動画)</span>
                                <span style="font-weight:bold; font-size:14px;">148枚</span>
                            </div>
                            <div
                                style="display:flex; justify-content:space-between; border-bottom:1px solid #f5f5f5; padding-bottom:5px; margin-bottom:5px;">
                                <span style="font-size:11px;">テキスト文章</span>
                                <span style="font-weight:bold; font-size:14px;">50件</span>
                            </div>
                            <div style="display:flex; justify-content:space-between;">
                                <span style="font-size:11px;">カテゴリー</span>
                                <span style="font-weight:bold; font-size:14px;">5種</span>
                            </div>
                        </div>

                        <!-- Col 3: Pattern AI -->
                        <div class="analysis-card"
                            style="background:#fff; border:1px solid #eee; border-radius:8px; padding:15px; position:relative; overflow:hidden;">
                            <div
                                style="position:absolute; top:-10px; right:-10px; width:50px; height:50px; background:#E0F7FA; border-radius:50%;">
                            </div>
                            <div
                                style="font-size:12px; color:#006064; margin-bottom:10px; font-weight:bold; position:relative;">
                                ✨ AIパターン生成力</div>

                            <div style="text-align:center; margin-top:5px;">
                                <div style="font-size:10px; color:#666;">現在のアセット組み合わせ</div>
                                <div style="font-size:24px; font-weight:bold; color:#00838F;">7,400<span
                                        style="font-size:12px; color:#666;">通り</span></div>
                                <div style="font-size:9px; color:#888; margin-bottom:8px;">(テキスト50 × 画像148)</div>

                                <div style="font-size:10px; color:#666;">生成済みAIバリエーション</div>
                                <div style="font-size:14px; font-weight:bold; color:#333;">+ 320<span
                                        style="font-size:10px; font-weight:normal;">パターン</span></div>
                            </div>
                        </div>
                    </div>

                    <!-- Chart Placeholder -->
                    <div
                        style="margin-top:20px; background:#fafafa; border:1px dashed #ccc; padding:20px; border-radius:8px; text-align:center;">
                        <div style="color:#888; font-size:12px; margin-bottom:10px;">推奨投稿タイミング分析 (ヒートマップ)</div>
                        <div style="height:100px; display:flex; align-items:flex-end; justify-content:center; gap:5px;">
                            <!-- Dummy Bars -->
                            <div style="width:20px; height:30%; background:#CFD8DC;"></div>
                            <div style="width:20px; height:50%; background:#B0BEC5;"></div>
                            <div style="width:20px; height:80%; background:#29B6F6;"></div>
                            <div style="width:20px; height:100%; background:#0288D1;"></div> <!-- Best -->
                            <div style="width:20px; height:60%; background:#29B6F6;"></div>
                            <div style="width:20px; height:40%; background:#B0BEC5;"></div>
                            <div style="width:20px; height:20%; background:#CFD8DC;"></div>
                        </div>
                        <div style="font-size:10px; color:#666; margin-top:5px;">
                            最もエンゲージメントが高い時間帯: <span style="font-weight:bold; color:#0288D1;">水曜 12:00 / 金曜 20:00</span>
                        </div>
                    </div>
                </div>
            </div>

            <!-- PANEL: MATERIAL -->
            <div id="panel-material" class="panel">
                <div class="panel-header">
                    <div class="panel-title">素材管理</div>
                    <div class="header-controls">
                        <button class="btn btn-outline" style="color:#4285F4; border-color:#4285F4;">＋
                            Googleドライブ連携</button>
                        <button class="btn btn-outline">＋ フォルダから追加</button>
                        <div style="width:20px;"></div>
                        <button class="btn btn-ai" id="btn-auto-tag">🏷️ AIでタグ付与</button>
                        <span
                            style="font-size:11px; color:#005662; background:#E0F7FA; padding:5px 10px; border-radius:15px; margin-left:10px; font-weight:bold; border:1px solid #B2EBF2;">
                            💡 新しい写真はタグを付与してください。AIで自動付与も可能です。
                        </span>
                    </div>
                </div>

                <div class="material-summary-bar"
                    style="display:flex; gap:15px; margin-bottom:15px; font-size:12px; color:#555; padding-left: 5px;">
                    <span id="mat-summary-total">全素材: 0枚</span>
                    <span style="color:#ccc;">|</span>
                    <span id="mat-summary-tagged" style="color:#388E3C;">🏷️ タグ付与済: 0枚</span>
                    <span style="color:#ccc;">|</span>
                    <span id="mat-summary-untagged" style="color:#D32F2F;">⚠️ 未付与: 0枚</span>
                </div>

                <div class="material-grid" id="material-grid">
                    <!-- JS injects images -->
                </div>
            </div>

            <!-- PANEL: TEXT -->
            <div id="panel-text" class="panel">
                <div class="panel-header">
                    <div class="panel-title">テキスト管理</div>
                    <div class="header-controls">
                        <button class="btn btn-ai" id="btn-text-gen-modal">✨ カテゴリからAI生成</button>
                        <button class="btn btn-outline">＋ 新規テンプレート</button>
                    </div>
                </div>

                <div id="txt-summary-bar" class="text-summary-bar"
                    style="display:flex; gap:15px; margin-bottom:15px; font-size:12px; color:#555; padding-left: 5px; border-bottom:1px solid #eee; padding-bottom:10px;">
                    <!-- JS Injected -->
                </div>

                <!-- Main Container for Text Manager -->
                <div id="text-manager-container" style="display:flex; height: 100%; gap:20px; overflow:hidden;">

                    <!-- LEFT SIDEBAR: Folders -->
                    <div id="txt-sidebar"
                        style="width:200px; flex-shrink:0; border-right:1px solid #eee; padding-right:10px; overflow-y:auto;">
                        <!-- JS Injected Folders -->
                    </div>

                    <!-- RIGHT MAIN: Texts -->
                    <div id="txt-main-list" class="text-list" style="flex:1; overflow-y:auto; padding-bottom:50px;">
                        <!-- JS Injected Items -->
                    </div>

                    <!-- FAR RIGHT: Composition Deck -->
                    <div id="txt-deck"
                        style="width:250px; flex-shrink:0; border-left:1px solid #eee; padding-left:10px; display:flex; flex-direction:column; background:#fafafa;">
                        <div
                            style="padding:10px 0; border-bottom:1px solid #ddd; margin-bottom:10px; font-weight:bold; font-size:13px; color:#333;">
                            <span id="deck-count">構成案 (0)</span>
                        </div>
                        <div id="txt-deck-list" style="flex:1; overflow-y:auto; padding-bottom:10px;">
                            <!-- Blocks go here -->
                        </div>
                        <div style="padding:10px 0;">
                            <button id="btn-compose-ai" class="btn btn-ai" style="width:100%; font-size:11px;"
                                disabled>パーツを選択してください</button>
                        </div>
                    </div>

                </div>
            </div>

            <!-- PANEL: HISTORY (MULTI-PLATFORM) -->
            <div id="panel-history" class="panel">
                <div class="panel-header">
                    <div class="panel-title">自社投稿履歴 (Instagram / Google / X)</div>
                    <div class="header-controls">
                        <span style="font-size:12px; color:#666;">各プラットフォームの直近の投稿状況を確認できます</span>
                        <div style="flex:1;"></div>
                        <button class="btn btn-outline" onclick="alert('PDF出力機能は開発中です')">📄 レポート出力</button>
                    </div>
                </div>

                <div id="history-grid"
                    style="display:grid; grid-template-columns: 1fr 1fr 1fr; gap:20px; height:100%; padding-bottom:50px;">
                    <!-- JS Injects 3 Columns -->
                </div>
            </div>


            <p style="font-size: 12px; color: #666; margin-bottom: 20px;">過去の投稿パフォーマンスと推奨投稿タイミングの分析結果です。</p>

            <!-- Dummy Chart Area -->
            <div
                style="background: white; border: 1px solid #eee; border-radius: 8px; padding: 20px; height: 300px; display: flex; align-items: flex-end; justify-content: space-around;">
                <!-- Simple CSS Bar Chart Mockup -->
                <div class="bar-group" style="text-align:center;">
                    <div
                        style="height: 150px; width: 40px; background: #33B9BB; margin: 0 auto; border-radius: 4px 4px 0 0;">
                    </div>
                    <div style="font-size:10px; margin-top:5px;">月</div>
                </div>
                <div class="bar-group" style="text-align:center;">
                    <div
                        style="height: 220px; width: 40px; background: #33B9BB; margin: 0 auto; border-radius: 4px 4px 0 0;">
                    </div>
                    <div style="font-size:10px; margin-top:5px;">火</div>
                </div>
                <div class="bar-group" style="text-align:center;">
                    <div
                        style="height: 180px; width: 40px; background: #33B9BB; margin: 0 auto; border-radius: 4px 4px 0 0;">
                    </div>
                    <div style="font-size:10px; margin-top:5px;">水</div>
                </div>
                <div class="bar-group" style="text-align:center;">
                    <div
                        style="height: 120px; width: 40px; background: #eee; margin: 0 auto; border-radius: 4px 4px 0 0;">
                    </div>
                    <div style="font-size:10px; margin-top:5px;">木</div>
                </div>
                <div class="bar-group" style="text-align:center;">
                    <div
                        style="height: 250px; width: 40px; background: #FB8C00; margin: 0 auto; border-radius: 4px 4px 0 0;">
                    </div>
                    <div style="font-size:10px; margin-top:5px;">金</div>
                </div>
                <div class="bar-group" style="text-align:center;">
                    <div
                        style="height: 280px; width: 40px; background: #FB8C00; margin: 0 auto; border-radius: 4px 4px 0 0;">
                    </div>
                    <div style="font-size:10px; margin-top:5px;">土</div>
                </div>
                <div class="bar-group" style="text-align:center;">
                    <div
                        style="height: 200px; width: 40px; background: #33B9BB; margin: 0 auto; border-radius: 4px 4px 0 0;">
                    </div>
                    <div style="font-size:10px; margin-top:5px;">日</div>
                </div>
            </div>

            <div style="margin-top:20px; display:flex; gap:20px;">
                <div style="flex:1; background:white; padding:15px; border-radius:8px; border:1px solid #eee;">
                    <h4 style="font-size:13px; margin-bottom:10px;">📈 エンゲージメント推移</h4>
                    <div
                        style="height:100px; background:#fafafa; display:flex; align-items:center; justify-content:center; color:#aaa; font-size:11px;">
                        (ラインチャートイメージ)
                    </div>
                </div>
                <div style="flex:1; background:white; padding:15px; border-radius:8px; border:1px solid #eee;">
                    <h4 style="font-size:13px; margin-bottom:10px;">👥 フォロワー属性</h4>
                    <div
                        style="height:100px; background:#fafafa; display:flex; align-items:center; justify-content:center; color:#aaa; font-size:11px;">
                        (円グラフイメージ)
                    </div>
                </div>
            </div>
        </div>
    </div>
    </div>

    </div>
    </div>


    <!-- MODAL: TEXT GENERATION -->
    <div id="modal-text-gen" class="modal-overlay">
        <div class="modal" style="height: auto; width: 600px; max-height: 80vh; overflow-y: auto;">
            <h3 style="margin-bottom:15px; color:#6C35DE;">✨ AIテキスト生成 (3案提案)</h3>
            <p style="font-size:12px; color:#666; margin-bottom:20px;">カテゴリーとタグを選択して、3つのパターンを提案します。</p>

            <label style="font-weight:bold; font-size:12px;">カテゴリー</label>
            <select id="gen-text-cat"
                style="padding:8px; width:100%; margin-bottom:15px; border:1px solid #ccc; border-radius:4px;">
                <option>日常・風景</option>
                <option>施術・ビフォーアフター</option>
                <option>キャンペーン・お知らせ</option>
                <option>スタッフ紹介</option>
                <option>Q&A・解説</option>
            </select>

            <label style="font-weight:bold; font-size:12px;">タグ (任意)</label>
            <div style="display:flex; gap:5px; margin-bottom:20px; flex-wrap:wrap;">
                <span class="tag-chip" onclick="this.classList.toggle('selected')">#癒し</span>
                <span class="tag-chip" onclick="this.classList.toggle('selected')">#元気</span>
                <span class="tag-chip" onclick="this.classList.toggle('selected')">#専門的</span>
                <span class="tag-chip" onclick="this.classList.toggle('selected')">#親しみ</span>
            </div>

            <!-- Result Area -->
            <div id="ai-gen-results-area" style="display:none; margin-bottom:20px;">
                <h4 style="font-size:14px; margin-bottom:10px;">生成された案 (選択してください)</h4>
                <div id="ai-gen-options" style="display:flex; flex-direction:column; gap:10px;">
                    <!-- JS Injected -->
                </div>
            </div>

            <div style="text-align:right;">
                <button class="btn btn-outline" id="btn-close-text-gen">キャンセル</button>
                <button class="btn btn-ai" id="btn-run-text-gen">生成する</button>
                <button class="btn btn-black" id="btn-save-generated-text" style="display:none;">選択した案を保存</button>
            </div>
        </div>
    </div>

    </div>
    </div>

    <!-- MODAL: IMAGE TAGGING -->
    <div id="modal-img-tag" class="modal-overlay">
        <div class="modal" style="height: auto; width: 400px;">
            <h3 style="margin-bottom:20px;">画像タグ編集</h3>
            <div style="display:flex; justify-content:center; margin-bottom:15px;">
                <img id="tag-target-img" src="" style="width:150px; height:150px; object-fit:cover; border-radius:8px;">
            </div>

            <label style="font-weight:bold; font-size:12px; margin-bottom:5px;">現在設定されているタグ</label>
            <div id="current-tags-area"
                style="display:flex; flex-wrap:wrap; gap:5px; margin-bottom:15px; min-height:30px; padding:5px; border:1px solid #eee; border-radius:4px;">
                <!-- Tags injected here -->
            </div>

            <label style="font-weight:bold; font-size:12px; margin-bottom:5px;">新規タグを追加</label>
            <div style="display:flex; gap:5px; margin-bottom:20px;">
                <input type="text" id="new-tag-input" placeholder="タグを入力..."
                    style="flex:1; padding:8px; border:1px solid #ccc; border-radius:4px;">
                <button class="btn btn-black" id="btn-add-tag">追加</button>
            </div>

            <div style="text-align:right;">
                <button class="btn btn-outline" id="btn-close-tag-modal">完了</button>
            </div>
        </div>
    </div>

    <!-- MODAL: ADD PLAN -->
    <div id="modal-plan" class="modal-overlay">
        <div class="modal" style="height: auto; width: 400px;">
            <h3 style="margin-bottom:20px;">新規投稿予定の登録</h3>

            <label style="font-weight:bold; font-size:12px; margin-bottom:5px;">日付</label>
            <input type="date" id="plan-date"
                style="padding:8px; width:100%; margin-bottom:15px; border:1px solid #ccc; border-radius:4px;">

            <label style="font-weight:bold; font-size:12px; margin-bottom:5px;">カテゴリー</label>
            <select id="plan-category"
                style="padding:8px; width:100%; margin-bottom:20px; border:1px solid #ccc; border-radius:4px;">
                <option>日常・風景</option>
                <option>施術・ビフォーアフター</option>
                <option>キャンペーン・お知らせ</option>
                <option>スタッフ紹介</option>
                <option>Q&A・解説</option>
            </select>

            <div style="text-align:right; margin-top:10px;">
                <button class="btn btn-outline" id="btn-close-plan">キャンセル</button>
                <button class="btn btn-black" id="btn-save-plan">保存する</button>
            </div>
        </div>
    </div>

    <!-- MODAL: EDITOR -->
    <div id="modal-editor" class="modal-overlay">
        <div class="modal" style="width: 1000px; height: 850px;">
            <div style="display:flex; justify-content:space-between; align-items:center; margin-bottom:10px;">
                <h3 style="color:#333;">投稿コンテンツ編集</h3>
                <div style="font-size:12px; color:#666;">
                    ステータス: <span class="status-badge" id="editor-status-display" style="background:#ccc;">-</span>
                </div>
            </div>

            <div class="editor-layout">
                <div class="editor-left">
                    <!-- Tool Area: Category & Recommend -->
                    <div class="editor-tools">
                        <div class="tool-label">投稿設定・レコメンド</div>
                        <div style="display:flex; gap:10px; align-items:center; margin-bottom:10px;">
                            <span style="font-size:12px;">カテゴリー:</span>
                            <select id="editor-category-select"
                                style="padding:6px; border:1px solid #ddd; border-radius:4px; font-size:12px; width:200px;">
                                <option value="日常・風景">日常・風景</option>
                                <option value="施術・ビフォーアフター">施術・ビフォーアフター</option>
                                <option value="キャンペーン・お知らせ">キャンペーン・お知らせ</option>
                                <option value="スタッフ紹介">スタッフ紹介</option>
                                <option value="Q&A・解説">Q&A・解説</option>
                            </select>
                            <span style="font-size:10px; color:#0277BD;">✨ カテゴリ変更でレコメンドが更新されます</span>
                        </div>
                    </div>

                    <!-- Image Selection -->
                    <div class="editor-section-title">
                        <span>1. 画像を選択 (素材管理より)</span>
                        <button class="btn btn-outline" style="padding:2px 8px; font-size:10px;"
                            onclick="alert('画像生成AIを起動します')">🖼️ 画像を自動生成</button>
                    </div>
                    <div class="editor-img-list" id="editor-img-list">
                        <!-- JS injected -->
                    </div>

                    <!-- Text Selection & Generation -->
                    <div class="editor-section-title" style="margin-top:15px; margin-bottom: 10px;">
                        <span>2. テキスト編集</span>
                    </div>

                    <!-- Text Tabs -->
                    <div class="text-editor-tabs"
                        style="display:flex; gap:10px; margin-bottom:10px; border-bottom:1px solid #ddd; padding-bottom:5px;">
                        <div class="text-tab active" id="tab-txt-material" onclick="switchTextTab('material')">素材から選ぶ
                        </div>
                        <div class="text-tab" id="tab-txt-ai" onclick="switchTextTab('ai')">AIで新たに作成</div>
                    </div>

                    <!-- TAB CONTENT: Material -->
                    <div id="content-txt-material">
                        <div class="editor-txt-list" id="editor-txt-list">
                            <!-- JS injected -->
                        </div>
                    </div>

                    <!-- TAB CONTENT: AI -->
                    <div id="content-txt-ai" style="display:none;">
                        <div class="ai-gen-box">
                            <div class="tool-label">AI文章生成アシスタント</div>
                            <input type="text" id="ai-text-prompt" class="ai-input"
                                placeholder="例: 「春のキャンペーンについて、明るいトーンで」">
                            <button class="btn btn-ai" style="width:100%; font-size:12px; padding:6px;"
                                id="btn-gen-text">✨
                                AIで文章を作成</button>
                        </div>
                    </div>
                </div>

                <div class="editor-right">
                    <div class="editor-section-title">プレビュー & 加工</div>

                    <div id="editor-preview-wrapper"
                        style="background:white; height:100%; border-radius:8px; padding:10px; overflow-y:auto; display:flex; flex-direction:column;">
                        <!-- Square Image Preview with Overlay -->
                        <div class="preview-container" id="editor-preview-container">
                            <img src="" class="preview-img" id="editor-preview-img">
                            <div class="text-overlay-mock" id="editor-overlay-mock">
                                <div class="overlay-title">見出しテキスト</div>
                                <div class="overlay-sub">サブタイトル</div>
                            </div>
                            <div style="position:absolute; top:50%; left:50%; transform:translate(-50%,-50%); color:#ccc; font-size:12px;"
                                id="preview-placeholder">No Image</div>
                        </div>

                        <!-- Caption Preview -->
                        <textarea id="editor-preview-text"
                            style="width:100%; height:120px; padding:8px; border:1px solid #ddd; font-size:12px; resize:vertical; margin-bottom:10px;"
                            placeholder="キャプション本文..."></textarea>

                        <!-- Magic Tools -->
                        <button class="btn btn-ai"
                            style="margin-bottom:5px; width:100%; justify-content:center; box-shadow:0 2px 5px rgba(0,0,0,0.1);"
                            id="btn-apply-overlay">✨ AIで写真に文字を入れる</button>

                    </div>
                </div>
            </div>

            <div style="text-align:right; margin-top:20px; padding-top:10px; border-top:1px solid #eee;">
                <button class="btn btn-outline" id="btn-close-editor">キャンセル</button>
                <button class="btn btn-black" id="btn-save-editor">これで保存 (ステータス: 投稿待ちへ)</button>
            </div>
        </div>
    </div>

    <script src="script.js"></script>
</body>

</html>